---
doc_type: weread-highlights-reviews
bookId: "27741217"
author: 王磊
cover: https://wfqqreader-1252317822.image.myqcloud.com/cover/217/27741217/t7_27741217.jpg
reviewCount: 0
noteCount: 11
isbn: 9787121376184
category: 计算机-编程设计
lastReadDate: 2020-09-24
---
# 元数据
> [!abstract] Offer来了：Java面试核心知识点精讲（原理篇）
> - ![ Offer来了：Java面试核心知识点精讲（原理篇）|200](https://wfqqreader-1252317822.image.myqcloud.com/cover/217/27741217/t7_27741217.jpg)
> - 书名： Offer来了：Java面试核心知识点精讲（原理篇）
> - 作者： 王磊
> - 简介： 本书是对Java程序员面试必备知识点的总结，详细讲解了JVM原理、多线程、数据结构和算法、分布式缓存、设计模式等面试必备知识点，在讲解时不拖泥带水，力求精简。本书总计9章，第1章讲解JVM原理，涉及JVM运行机制、JVM内存模型、常用垃圾回收算法和JVM类加载机制等内容；第2章讲解Java基础知识，涉及集合、异常分类及处理、反射、注解、内部类、泛型和序列化等内容；第3章讲解Java并发编程知识，涉及Java多线程的工作原理及应用、Java线程池的工作原理及应用，以及锁、进程调度算法等内容；第4章讲解数据结构知识，涉及栈、队列、链表、散列表、二叉树、红黑树、图和位图等内容；第5章讲解Java中的常用算法，涉及二分查找、冒泡排序、涉及TCP/IP、HTTP、常用负载均衡算法和LVS原理等内容；第7章讲解数据库及分布式事务原理，涉及插入排序、快速排序、希尔排序、归并排序、桶排序、基数排序等算法；第6章讲解网络与负载均衡原理，数据库存储引擎、数据库并发操作和锁、数据库分布式事务等内容；第8章讲解分布式缓存的原理及应用，涉及分布式缓存介绍、Ehcache原理及应用、Redis原理及应用、分布式缓存设计的核心问题等内容；第9章讲解设计模式，涉及常见的23种经典设计模式。本书可作为Java程序员的技术面试参考用书，也可作为Java程序员、技术经理和架构师的日常技术参考用书。
> - 出版时间 2019-11-01 00:00:00
> - ISBN： 9787121376184
> - 分类： 计算机-编程设计
> - 出版社： 电子工业出版社

# 高亮划线

## 2.5 内部类


- 📌 成员内部类不能定义静态方法和变量（final修饰的除外），因为成员内部类是非静态的，而在Java的非静态代码块中不能定义静态方法和变量。 ^27741217-19-1875-1943
    - ⏱ 2020-09-24 10:01:25 
## 3.6 Java中的锁


- 📌 CAS是一种原子更新操作，在对数据操作之前首先会比较当前值跟传入的值是否一样，如果一样则更新，否则不执行更新操作，直接返回失败状态。 ^27741217-28-1101-1167
    - ⏱ 2020-09-24 11:05:54 

- 📌 3．synchronized的实现原理 ^27741217-28-11637-11656
    - ⏱ 2020-09-24 11:14:17 

- 📌 偏向锁的主要目的是在同一个线程多次获取某个锁的情况下尽量减少轻量级锁的执行路径，因为轻量级锁的获取及释放需要多次CAS（Compare and Swap）原子操作，而偏向锁只需要在切换ThreadID时执行一次CAS原子操作，因此可以提高锁的运行效率。 ^27741217-28-29342-29468
    - ⏱ 2020-09-24 11:28:59 

- 📌 3.6.17 如何进行锁优化 ^27741217-28-30143-30157
    - ⏱ 2020-09-24 11:29:26 
## 3.14 什么是CAS


- 📌 CAS（Compare And Swap）指比较并交换。CAS算法CAS(V, E, N)包含3个参数，V表示要更新的变量，E表示预期的值，N表示新值。在且仅在V值等于 E值时，才会将V值设为 N，如果 V值和 E值不同，则说明已经有其他线程做了更新，当前线程什么都不做。最后，CAS返回当前V的真实值。 ^27741217-36-497-1013
    - ⏱ 2020-09-24 11:46:05 
## 3.15 ABA问题


- 📌 部分乐观锁是通过版本号（version）来解决ABA问题的，具体的操作是乐观锁每次在执行数据的修改操作时都会带上一个版本号，在预期的版本号和数据的版本号一致时就可以执行修改操作，并对版本号执行加1操作，否则执行失败。因为每次操作的版本号都会随之增加，所以不会出现ABA问题，因为版本号只会增加，不会减少 ^27741217-37-751-902
    - ⏱ 2020-09-24 11:48:45 
## 3.16 什么是AQS


- 📌 AQS（Abstract Queued Synchronizer）是一个抽象的队列同步器，通过维护一个共享资源状态（Volatile Int State）和一个先进先出（FIFO）的线程等待队列来实现一个多线程访问共享资源的同步框架。 ^27741217-38-427-544
    - ⏱ 2020-09-24 11:48:57 

- 📌 AQS为每个共享资源都设置一个共享资源锁，线程在需要访问共享资源时首先需要获取共享资源锁，如果获取到了共享资源锁，便可以在当前线程中使用该共享资源，如果获取不到，则将该线程放入线程等待队列，等待下一次资源调度，具体的流程如图3-14所示。许多同步类的实现都依赖于AQS，例如常用的ReentrantLock、Semaphore和CountDownLatch。 ^27741217-38-637-816
    - ⏱ 2020-09-24 11:49:08 
## 7.3 数据库分布式事务


- 📌 两阶段提交协议分布式事务指涉及操作多个数据库的事务，在分布式系统中，各个节点之间在物理上相互独立，通过网络进行沟通和协调。二阶段提交（Two-Phase Commit）指在计算机网络及数据库领域内，为了使分布式数据库的所有节点在进行事务提交时都保持一致性而设计的一种算法。在分布式系统中，每个节点虽然都可以知道自己的操作是否成功，却无法知道其他节点的操作是否成功。在一个事务跨越多个节点时，为了保持事务的ACID特性，需要引入一个作为协调者的组件来统一掌控所有节点（称作参与者）的操作结果，并最终指示这些节点是否真正提交操作结果（比如将更新后的数据写入磁盘等）。因此，二阶段提交的算法思路可以概括为：参与者将操作成败通知协调者，再由协调者根据所有参与者的反馈决定各参与者是提交操作还是中止操作。1．Prepare（准 ^27741217-63-913-1410
    - ⏱ 2020-09-24 11:54:42 

- 📌 三阶段提交协议三阶段提交（Three-Phase Commit），也叫作三阶段提交协议（Three-Phase Commit Protocol），是二阶段提交（2PC）的改进版本。具体改进如下。◎ 引入超时机制：在协调者和参与者中引入超时机制，如果协调者长时间接收不到参与者的反馈，则认为参与者执行失败。◎ 在第1阶段和第2阶段都加入一个预准备阶段，以保证在最后的任务提交之前各参与节点的状态是一致的。也就是说，除了引入超时机制，三阶段提交协议（3PC）把两阶段提交协议（2PC）的准备阶段再次一分为二，这样三阶段提交就有CanCommit、PreCommit、DoCommit三个阶段。 ^27741217-63-2559-2943
    - ⏱ 2020-09-24 11:54:34 
# 读书笔记

# 本书评论
